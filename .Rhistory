gsub("[^0-9.]", "", RBCM.records.1973_1981)
gsub("[^0-9.]", "", RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.col.numbers <- gsub("[^0-9.]", "", RBCM.records.1973_1981$CollectorsFieldNumber)
subset(RBCM.col.numbers=1 & RBCM.col.numbers<1930)
RBCM.records.1973_1981$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.records.1973_1981$CollectorsFieldNumber <- as.numeric(RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records, CollectorsFieldNumber=1 & CollectorsFieldNumber<1930)
max(RBCM.records.1973_1981$CollectorsFieldNumber)
order(unique(RBCM.records.1973_1981$CollectorsFieldNumber))
RBCM.records.1973_1981 <- subset(RBCM.records, CollectorsFieldNumber=1 & CollectorsFieldNumber<100)
str(RBCM.records.1973_1981)
RBCM.records.1973_1981$CollectorsFieldNumber <- as.numeric(RBCM.records.1973_1981$CollectorsFieldNumber)
str(RBCM.records.1973_1981)
order(unique(RBCM.records.1973_1981$CollectorsFieldNumber))
max(RBCM.records.1973_1981$CollectorsFieldNumber)
min(RBCM.records.1973_1981$CollectorsFieldNumber)
mean(RBCM.records.1973_1981$CollectorsFieldNumber)
order(unique(RBCM.records.1973_1981$CollectorsFieldNumber))
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1:1929)
RBCM.records.other <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1930:5000)
View(RBCM.records.other)
View(RBCM.records.1973_1981)
RBCM.other.records <- anti_join(RBCM.records,RBCM.records.1973_1981)
library(dplyr)
RBCM.other.records <- anti_join(RBCM.records,RBCM.records.1973_1981)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
RBCM.records.1973_1981$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1:1929)
RBCM.other.records <- anti_join(RBCM.records,RBCM.records.1973_1981)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1:1929)
RBCM.other.records <- anti_join(RBCM.records,RBCM.records.1973_1981)
str(RBCM.records)
str(RBCM.records.1973_1981)
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1:1929)
RBCM.records.1973_1981$CollectorsFieldNumber <- as.numeric(RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.other.records <- anti_join(RBCM.records,RBCM.records.1973_1981)
RBCM.other.records <- anti_join(RBCM.records.1973_1981, RBCM.records)
View(RBCM.records.1973_1981)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1:1929)
RBCM.records.1973_1981$CollectorsFieldNumber <- as.numeric(RBCM.records.1973_1981$CollectorsFieldNumber)
RBCM.other.records <- anti_join(RBCM.records.1973_1981, RBCM.records)
View(RBCM.records)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 1929:2000)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 2000:2050)
RBCM.records.1973_1981 <- subset(RBCM.records.1973_1981, RBCM.records.1973_1981$CollectorsFieldNumber %in% 2800:3000)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 2800:3000)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:3000)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:n)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:10^10)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:10000000000)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:1000000)
RBCM.other.records <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:1000000)
RBCM.other.records <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:10000)
RBCM.other.records <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:10000000)
length(nrow(RBCM.records.1973_1981))+length(nrow(RBCM.other.records))
sum(nrow(RBCM.records.1973_1981))+sum(nrow(RBCM.other.records))
str(UBC.records)
RBCM.records.HJ <- RBCM.records %>% filter(Primary.Collector == "Harvey Janszen")
RBCM.records.HJ <- RBCM.records %>% filter(Collector == "Harvey Janszen")
RBCM.records.HJ <- RBCM.records %>% filter(Collector == "Harvey Janszen")
RBCM.records.HJ <- RBCM.records %>% filter(Collector = "Harvey Janszen")
RBCM.records.HJ <- RBCM.records %>% filter(Collector == "Harvey Janszen")
RBCM.records.HJ <- RBCM.records %>% filter(Collector == 'Harvey Janszen')
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
RBCM.records.HJ <- RBCM.records %>% filter(Collector == 'Harvey Janszen')
RBCM.records[RBCM.records$Collector == 'Harvey Janszen',]
str(RBCM.records)
RBCM.records.HJ <- RBCM.records %>% filter(Collector == ' Harvey Janszen')
View(UBC.records)
unique(UBC.records$Collector.Number)
UBC.records <- UBC.records %>% filter(!str_detect(Collector.Number, 'V-159'))
library(tidyverse)
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Collector.Number, 'V-159'))
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", UBC.records$CollectorsFieldNumber)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove two records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Collector.Number, 'V-158'))
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Collector.Number, 'V-159'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1:1929)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 1:1929)
View(UBC.records.1973_1981)
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Primary.Collector, 'Andrew Simon'))
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Collector.Number, 'V-158'))
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Collector.Number, 'V-159'))
UBC.records <- UBC.records %>% dplyr::filter(!str_detect(Primary.Collector, 'Andrew Simon'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1:1929)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 1:1929)
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
RBCM.HJ
UBC.HJ
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 1929-(RBCM.HJ+UBC.HJ)
# Create data for the graph.
labels <- c("RBCM", "UBC", "Undigitized")
x <- c(RBCM.HJ, UBC.HJ, undigitized)
digitized.summary <- data.frame(labels,x)
View(digitized.summary)
# Create data for the graph.
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
digitized.summary <- data.frame(Collection,Records)
View(digitized.summary)
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
library(dplyr)
library(leaflet)
library(plotly)
library(raster)
library(sf)
library(tidyverse)
digitized.summary <- data.frame(Collection,Records)
pie.digitized <- plot_ly(digitized.summary, labels = ~Collection, values = ~Records, type = 'pie')
pie.digitized <- pie.digitized %>% layout(title = 'Records digitized by research collection',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
pie.digitized
digitized.summary$Color <- c("#ffcf20FF", "#10a53dFF", "#541352FF")
plot_ly(labels = ~Collection,
values = ~Records,
textposition = "inside",
textinfo = 'label+percent',
type='pie',
hole=0.4,
color = ~Entity,
marker = list(colors = ~Color)
) %>% add_pie(hole = 0.4) %>%
layout(showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
annotations = list(text=sum(rowSums(dt[, -c(1,ncol(dt))])), "showarrow"=F, font=list(size = 40)))
plot_ly(labels = ~Collection,
values = ~Records,
textposition = "inside",
textinfo = 'label+percent',
type='pie',
hole=0.4,
color = ~Entity,
marker = list(colors = ~Color) %>% add_pie(hole = 0.4) %>%
layout(showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
annotations = list(text=sum(rowSums(dt[, -c(1,ncol(dt))])), "showarrow"=F, font=list(size = 40)))
digitized.pie <- plot_ly(labels = ~Collection,
digitized.pie <- plot_ly(labels = ~Collection,
values = ~Records,
textposition = "inside",
textinfo = 'label+percent',
type='pie',
hole=0.4,
color = ~Entity,
marker = list(colors = ~Color) %>% add_pie(hole = 0.4)) %>%
layout(showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = F),
annotations = list(text=sum(rowSums(dt[, -c(1,ncol(dt))])), "showarrow"=F, font=list(size = 40)))
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records, color = ~Color)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
digitized.summary <- data.frame(Collection,Records)
digitized.summary$Color <- c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records, color = ~Color)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records, color = ~Collection)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records, colors = ~Color)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
digitized.summary <- data.frame(Collection,Records)
digitized.summary$Color <- c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,color = ~Collection,
colors = c("#ffcf20FF", "#10a53dFF", "#541352FF"))
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records, insidetextfont = list(color = '#FFFFFF'))
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
text = ~paste('$', X1960, ' billions'),
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = FALSE)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = FALSE)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
2629-1930
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:2629)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 1930:2629)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 699-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = FALSE)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1:1929)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 1:1929)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 1929-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 1930:2629)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 1930:2629)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 699-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
2920-2630
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 2630:2920)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 2630:2920)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 290-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
2961-2921
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 2921:2961)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 2921:2961)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 40-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
2971-2962
# Create pie chart summarizing no. of records digitized by research collection (RBCM, UBC)
RBCM.records <- read.csv("tabular_data/HJ_RBCM_Records_2021-11-15.csv")
UBC.records <- read.csv("tabular_data/HJ_UBC_records_2023-02-12.csv")
# First remove non-numeric characters from collection numbers
RBCM.records$CollectorsFieldNumber <- gsub("[^0-9.]", "", RBCM.records$CollectorsFieldNumber)
RBCM.records$CollectorsFieldNumber <- as.numeric(RBCM.records$CollectorsFieldNumber)
UBC.records$Collector.Number <- gsub("[^0-9.]", "", UBC.records$Collector.Number)
UBC.records$Collector.Number <- as.numeric(UBC.records$Collector.Number)
# Remove records not attributable to Harvey from UBC records
UBC.records <- UBC.records %>% dplyr::filter(str_detect(Primary.Collector, 'Harvey Janszen'))
# Select records having collection numbers in the range of 1:1929 (collections from this time period, as per field notes)
RBCM.records.1973_1981 <- subset(RBCM.records, RBCM.records$CollectorsFieldNumber %in% 2962:2971)
UBC.records.1973_1981 <- subset(UBC.records, UBC.records$Collector.Number %in% 2962:2971)
# Sum specimens accessioned for the time period and infer number of records that remain undigitized
RBCM.HJ <- nrow(RBCM.records.1973_1981)
UBC.HJ <- nrow(UBC.records.1973_1981)
undigitized <- 9-(RBCM.HJ+UBC.HJ)
# Create Plotly Donut Chart
Collection <- c("RBCM", "UBC", "Undigitized")
Records <- c(RBCM.HJ, UBC.HJ, undigitized)
colors <-  c("#ffcf20FF", "#10a53dFF", "#541352FF")
digitized.summary <- data.frame(Collection,Records)
digitized.plot <- digitized.summary %>% plot_ly(labels = ~Collection, values = ~Records,
textposition = 'inside',
textinfo = 'label+percent',
insidetextfont = list(color = '#FFFFFF'),
hoverinfo = 'text',
marker = list(colors = colors,
line = list(color = '#FFFFFF', width = 1)), showlegend = T)
digitized.plot <- digitized.plot %>% add_pie(hole = 0.6)
digitized.plot <- digitized.plot %>% layout(title = "Records digitized by collection",  showlegend = T,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
digitized.plot
